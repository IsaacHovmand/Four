<!DOCTYPE html>
<html>
<head><title>Portfolio - Astro-Pi - Isaac</title><link rel="stylesheet" href="websitestyle.css"><meta charset="UTF-8"></head>
<body>
<h12>Vi havde til hensigt at foretage en NDVI-analyse af flere store byer og måle områder deri med grøn vegetation for at finde ud af, hvilke byer der er mest grønne. Vi ville gøre dette ved at tage nær-infrarøde billeder med et nær-infrarødt kamera kontrolleret af astro-pi-computeren, når vores reverse geocoder fastslår, at ISS befinder sig over en by, og derefter udføre NDVI-analyse på disse billeder med online-værktøjet Infragram. Desuden ville vi beregne det areal, som hver pixel i billederne dækker, og tælle antallet af pixels, der indeholder vegetation, med værktøjet ImageJ, for derefter at bestemme arealet med grøn vegetation. Endelig ville vi se på statistikker vedrørende indbyggernes sundhed og velvære i de analyserede byer i håb om at finde en sammenhæng mellem grønne områder og sundhed.
</h12><br><br>
<h13>Mht. billedtagning er specifikationerne tilstrækkelige til at besvare vores spørgsmål delvist. Vi skal til NDVI analyserne bruge hjælp fra eksterne programmer. Vi kan til gengæld kun fotografere byer som ISS passerer direkte henover, da kameraet ikke kan drejes.
</h13><br><br>
<h14>Testmåling:</h14><br>
<h15>Vores sensor var et kamera, som vi havde forbundet til vores raspberry pi. En testmåling bestod derfor blot af at tage et billede. Det gjorde vi dog på kontrollerede tidspunkter, idet vi havde skrevet en kode, der sørgede for at kameraet tog billeder med intervaller, frem for når det var over en bestemt by, for at skabe et scenarie tilsvarende det i vores idé.
</h15><br><br>
<h16>Kode:</h16><br>
<h17><code>def runit(var):<br>
    coordinates = ISS.coordinates()<br>
    coordinate_pair = (<br>
        coordinates.latitude.degrees,<br>
        coordinates.longitude.degrees)<br>
    location = reverse_geocoder.search(coordinate_pair)<br>
    print(location[0]["name"].upper())<br>
    time.sleep(5)<br>
    if var != location[0]["name"].upper():<br>
        var = location[0]["name"].upper() <br>
        capture(var,cam)<br>
        runit(var)<br>
    else:<br>
        var = location[0]["name"].upper() <br>
        runit(var)<br>
    </code></h17><br><br>
<h18>I denne kodestump definerer vi en funktion, som finder ud af hvor ISS er, som vi kalder runit. Først definerer vi coordinates som ISS.coordinates(), hvorved vi kan finde koordinaterne fra ISS. I den næste linje kode sætter vi coordinates_pair til at være lig (coordinates.latitude.degrees,coordinates.longitude.degrees). Nu har vi koordinaterne fra ISS. For at finde ud hvilken by ISS er over, skal vi sætte dette koordinatpar ind i reverse_geocoder. Den data som reverse_geocoder giver tilbage er både i en dictionary men også i en liste, hvilket vil sige, at vi skal først åbne listen for derefter at kunne bruge dictionary. Derudover får vi den til at skrive landets navn i store bogstaver, for at gøre det nemmere at læse. Derefter får vi funktionen til at vente i 5 sekunder. Dette gør vi for at se, om ISS stadigvæk er i det samme land. Hvis det ikke er tilfældet, så definerer vi var som det nye land, og så starter vi funktionen capture (var, cam). Den tager et billede af det nye land, og derefter startes runit(var) igen. Hvis vi er i det samme land, så definerer vi var som det land vi er i og kører runit(var) igen.
</h18><br>
<div class="content">
    <div id="flowchart"> <img src="Pictures/Astro-pi%20flowchart.jpg"/></div>
</div><br>
<a href="CITIES.py" download>
    <img src="Pictures/kode%20download.jpg" alt="Kode download" width="300" height="81"></a><br><br>
<ul>
  <li><a href="website.html">Home</a></li>
  <li><a href="projekt1portfolio.html">Projekt 1</a></li>
  <li><a href="itsecurityportfolio.html">IT security</a></li>
  <li><a href="">Coming soon</a></li>
</ul>
    </body>
</html>